nullpointerexception in querycontextimpl.converttovalue. null if you open a dump with an unreachableobjectshistogram, run the unreachable objects histogram query, then open a dump without the unreachableobjectshistogram, then bring up the query browser with control-q then select the unreachableobjectshistogram from the history then a query dialog appears. typing anything into the -histogram field gives   event loop exception java.lang.nullpointerexception     at org.eclipse.mat.query.registry.querycontextimpl.converttovalue(querycontextimpl.java:      at org.eclipse.mat.internal.snapshot.snapshotquerycontext.converttovalue(snapshotquerycontext.java:      at org.eclipse.mat.ui.internal.query.arguments.texteditor.editingdone(texteditor.java:      at org.eclipse.mat.ui.internal.query.arguments.texteditor$2.modifytext(texteditor.java:      at org.eclipse.swt.widgets.typedlistener.handleevent(typedlistener.java:      at org.eclipse.swt.widgets.eventtable.sendevent(eventtable.java:      at org.eclipse.swt.widgets.widget.sendevent(widget.java:  the main problem is that queries are shown in the history which are not valid and are not satisfiable by that dump. there is no converter available to convert a string from the user into the unreachableobjectshistogram.  the error message could be slightly better.  main fix: ensure the queryhistoryprovider doesn't return unsuitable queries.  also give a better error message if for some reason an unsuitable query is somehow selected. fix has now been applied.  it is still possible to run the query on a dump without an unreachable objects histogram by typing   control-q unreachable_objects  this gives an error message in the dialog of   java.lang.illegalargumentexception: org.eclipse.mat.snapshot.unreachableobjectshistogram  this is not very helpful.  would this be better?   impossible to convert any string to org.eclipse.mat.snapshot.unreachableobjectshistogram, query is not suitable for this snapshot error message is now:   impossible to convert any string to org.eclipse.mat.snapshot.unreachableobjectshistogram, query is not suitable for this snapshot (null pointer exception ) (query context impl ) (unreachable objects histogram ) (unreachable objects histogram ) (unreachable objects histogram ) (null pointer exception ) (query context impl ) (query context impl ) (snapshot query context ) (snapshot query context ) (text editor ) (text editor ) (text editor ) (text editor ) (typed listener ) (typed listener ) (event table ) (event table ) (unreachable objects histogram ) (query history provider ) (illegal argument exception ) (unreachable objects histogram ) (unreachable objects histogram ) (unreachable objects histogram ) 318635 318635 318635 318635
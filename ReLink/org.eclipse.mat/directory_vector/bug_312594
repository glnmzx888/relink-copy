snapshotimpl instance kept by executionjob after closing the editor. null i noticed that after closing the snapshot editor the snapshotimpl instance is still kept in memory. looking at the heap dump revealed that there is sometimes a queryexecution$executionjob still referenced by the eclipse progressmanager.   i'll attach a screenshot with the paths to the snapshotimpl and will look into this problem. created <span class=""><a href="attachment.cgi?id=168125" name="attach_168125" title="path keeping the snapshotimpl alive">attachment 168125</a> <a href="attachment.cgi?id=168125&amp;action=edit" title="path keeping the snapshotimpl alive">[details]</a></span> path keeping the snapshotimpl alive  this is the path keeping the snapshotimpl alive. i noticed that sometimes the job stays displayed in the &quot;progress&quot; view. if this happens then our instance of executionjob keeps the editor and other resources. to be on the safe side i will &quot;cleanup&quot; the job after it is executed. by cleanup i mean setting the problematic fields to null i submitted the changes from <a href="show_bug.cgi?id=312594#c1">comment 1</a>. i'll keep the message open for a while to investigate why sometimes the jobs disappear and sometimes they are left in the list of the process view. the classreferrersquery kept a reference to the progresslistener it initially received and reused it afterwards on every tree expansion (i.e. every time the iresulttree.getchildren() method is called). this is wrong, as the job for which the progress listener was created is already finished and the listener has reported &quot;done&quot;. i removed fully the usage of progress listener while expanding this tree. may be we should design our iresult subclasses like iresulttree to support progress information and pass a proper listener to them. however this will be an api change which i'm not sure we really need.  with this small change i think the reported bug is solved. i close the message now. (snapshot impl ) (execution job ) (snapshot impl ) (query execution ) (execution job ) (progress manager ) (snapshot impl ) (snapshot impl ) (snapshot impl ) (snapshot impl ) (snapshot impl ) (execution job ) (class referrers query ) (progress listener ) (i result tree ) (i result ) (i result tree ) ( c ) ( 1 ) 312594 312594 312594 312594